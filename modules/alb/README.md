# ALB Module

## 概要
このTerraformモジュールは、指定されたAWS環境内でApplication Load Balancer (ALB)を設定します。内部またはインターネット向けのトラフィックを処理するために設計されており、スケーラビリティと高可用性を提供します。

## 特徴
- **アプリケーションロードバランサー**: AWSのアプリケーションロードバランサーを使用し、HTTPおよびHTTPSトラフィックの負荷分散を行います。
- **クロスゾーンロードバランシング**: 複数のアベイラビリティゾーンにわたるトラフィックのバランスをとることができます。
- **セキュリティグループとサブネットの指定**: ロードバランサーのセキュリティとネットワーキングの設定をカスタマイズできます。

## モジュール入力
- `env`: 環境名（例: prod、dev、staging）を指定します。
- `system`: システム識別子を指定します。
- `security_group_ids`: ALBに関連付けるセキュリティグループIDのリストです。
- `subnets`: ALBが配置されるサブネットのリストです。
- `vpc_id`: ALBが配置されるVPCのIDです。
- `instance_ids`: ターゲットグループに登録するEC2インスタンスのIDのリストです。

## 使用方法
このモジュールをTerraform設定に含め、必要な入力を提供することで使用します。以下は基本的な例です：

```hcl
module "alb" {
  source              = "../modules/alb"
  env                 = "prod"
  system              = "my-app"
  security_group_ids  = ["sg-0123456789abcdef0"]
  subnets             = ["subnet-abcdef01", "subnet-abcdef02"]
  vpc_id              = "vpc-0123456789abcdef0"
  instance_ids        = ["i-0123456789abcdef0", "i-0123456789abcdef1"]
}
```

## 追加情報
- **HTTPリスナーの設定**: デフォルトで80ポートを使用し、HTTPリクエストをターゲットグループに転送します。
- **高度な設定**: HTTPSリスナーの追加やアクセスログの設定など、セキュリティや監視の強化に関する設定は、必要に応じて追加してください。SSL/TLS証明書が準備でき次第、HTTPSリスナーのコメントアウトを解除し、適切な証明書のARNを指定して有効化します。

## 注意
- 実際にHTTPSリスナーを有効にする場合は、SSL/TLS証明書のARNが必要です。証明書はAWS Certificate Managerを使用して事前に取得しておくことを推奨します。
- モジュールを使用する際は、各入力パラメータが正しく設定され、対応するAWSリソースが存在することを確認してください。
